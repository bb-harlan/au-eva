<template>
  <require from="../au-views/vertical-gridline.html"></require>
  <require from="../au-views/vertical-gridline-spacer.html"></require>
  <require from="../au-converters/currency-converter"></require>
  <require from="../au-converters/equation-side-converter"></require>

  <span click.trigger="onDialogOpen($event)" class="aaBtn"><i class="fa fa-arrows-v fa-fw aaIconBlue"
                                                              aria-hidden="true"></i> Move rows</span>

  <div element.ref="moverDialogModal" class="aaModal">
    <div
      element.ref="moverDialogContent"
      class="aaPanelContainer aaPanel aaPanelBoxShadow"
      css="position: absolute; top: ${moverDialogPositionElement.offsetTop}px; left: ${moverDialogPositionElement.offsetLeft}px;">
      <div class="aaPanelHeader aaPanelHeaderModule">Row mover</div>
      <div class="aaPanelBody">
        <div class="aaGridContainer aaInlineBlock">
          <div class="aaGridTitleBar" style="font-size: larger;">${acctList.equationSide |
            equationSideConverter:true:false}
            accounts
          </div>
          <div class="aaPanelToolBar">
            <div style="text-align: center;">
              <span class="aaFontLabel">Drag & drop any row to desired list position.</span>
            </div>
          </div>
          <div element.ref="moverRowList"
               class="aaGridScrollableRows"
               mousemove.trigger="onListMouseMove($event)"
               mouseleave.trigger="onListMouseLeave($event)">
            <template repeat.for="listItem of moverAcctList">
          <div
            class="aaRow"
            data-acct-id="${listItem.id}"
            list-item.bind="listItem"
            mouseenter.trigger="onRowMouseEnter($event, listItem)"
            mouseleave.trigger="onRowMouseLeave($event, listItem)"
            mousedown.trigger="onRowMouseDown($event)"
            mouseup.trigger="onRowMouseUp($event)">
            <div class="aaRowDataCells">
              <template if.bind="listItem.isAcct()">
                <span class="aaCellText aaFontSizeData aaCellAcctTitle">${listItem.title}</span>
                <vertical-gridline></vertical-gridline>
                <span class="aaCellText aaFontSizeData aaCellBchgBal">${listItem.bchgList.endingBalance | currencyConverter}</span>
              </template>
              <template if.bind="listItem.isAnnotation()">
                <span class="aaCellText aaFontSizeData aaCellAnnoTitle">${listItem.annoText}</span>
                <vertical-gridline></vertical-gridline>
                <span class="aaCellText aaFontSizeData aaCellBchgBal"></span>
              </template>
              <vertical-gridline></vertical-gridline>
            </div>
          </div>
</template>
</div>
<div class="aaGridFooterBar"></div>
</div>
</div>
<div class="aaPanelToolBar">
  <div style="text-align: center;">
    <span click.trigger="onDialogDone($event)" class="aaBtn">Done</span>
    <span click.trigger="onDialogCancel($event)" class="aaBtn" style="margin-left: 4pc;">Cancel</span>
  </div>
</div>
</div>
</div>

</template>
