<template>
  <require from="au-components/au-input-currency"></require>
  <require from="au-converters/au-currency-converter"></require>
  <require from="au-views/au-icon-ellipsis.html"></require>
  <require from="au-views/au-icon-balance-scale.html"></require>
  <div class="aaBchgCells">
    <!-- 1st row -->
    <div class="aaBchgCellsRow aaBchgCellsRowSeparation">
      <!-- target account -->
      <div class="aaCellWrapper">
        <div class="aaCell aaCellBorder aaCellAcctTitle">
          ${bchg.targetAcct.title}
        </div>
        <div class="aaCellHelper aaFontSizeLabel">
          <button class="aaBtn aaHelperBtn"
                  type="button"
                  click.trigger="app.viewmodelPopupAcctPicker.open(bchg, 'update')">
            <au-icon-ellipsis></au-icon-ellipsis>
          </button>
        </div>
      </div>
    </div>
    <!-- 2nd row -->
    <div class="aaBchgCellsRow">
      <!-- change description -->
      <input type="text"
             class="aaCell aaCellBorder aaCellBchgDesc"
             value.two-way="bchg.desc">
      <!-- change amount -->
      <div class="aaCellWrapper"
           style="margin-left: 1pc;">
        <au-input-currency
          currency-amt.to-view="bchg.amt"
          classes-string.one-time="'aaCell aaCellBorder aaCellBchgAmt'"
          on-completed.call="inputCurrencyCompleted(newBchgAmt)"
          >
<!--          on-completed.call="bchg.sourceTran.refresh()"-->
        </au-input-currency>
      </div>
      <div
        class="aaCellHelper aaFontSizeLabel ${bchg.sourceTran.totalChangesAssets == bchg.sourceTran.totalChangesEquities ? 'aaHidden' : ''}">
        <button type="button"
                class="aaBtn aaHelperBtn"
                click.trigger="bchg.setAmtToBalanceTran()">
          <au-icon-balance-scale></au-icon-balance-scale>
        </button>
      </div>
    </div>
  </div>
  </div>
</template>
